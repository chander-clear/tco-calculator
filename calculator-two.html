<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Lightbits Calculator</title>
  <!--Load the AJAX API-->
  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&display=swap" rel="stylesheet">
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      font-size: 62.5%;
    }

    main {
      position: relative;
      font-family: "Lato", sans-serif;
    }

    .container {
      max-width: 1300px;
      width: 100%;
      padding: 0 1.5rem;
      margin: 0 auto;
    }

    .btn-new {
      cursor: pointer;
      font-family: "Lato", Sans-serif;
      font-size: 1.6rem;
      line-height: 1.2em;
      letter-spacing: 1px;
      border-style: solid;
      border-width: 2px 2px 2px 2px;
      border-radius: 1rem;
      padding: 1.5rem 2.5rem;
      text-decoration: none;
      display: inline-block;
      transition: all 0.3s ease-in-out;
      text-align: center;
    }

    .btn-new-default {
      color: #fff;
      background-color: #BA9673;
      border-color: #BA9673;
    }

    .btn-new-default:hover {
      color: #BA9673;
      background-color: #fff;
    }

    .btn-new-transparent {
      color: #BA9673;
      border-color: #BA9673;
    }

    .btn-new-transparent:hover {
      color: #fff;
      background-color: #BA9673;
    }

    .btn-link-yellow {
      color: #FFCF19;
      font-size: 1.9rem;
      font-style: normal;
      font-weight: 700;
      line-height: 1.4;
      letter-spacing: 1px;
      text-decoration: none;
      position: relative;
      display: inline-block;
    }

    .btn-link-yellow>span {
      vertical-align: middle;
      display: inline-block;
      transition: transform 0.3s ease-in-out;
    }

    .btn-link-yellow:hover span {
      transform: translateX(0.8rem);
    }

    .row {
      width: 100%;
      display: flex;
      flex-direction: row;
      flex-wrap: wrap;
      position: relative;
    }

    .col-two {
      flex: 0 0 50%;
      max-width: 50%;
    }

    @media (max-width: 991px) {
      .col-two {
        flex: 0 0 100%;
        max-width: 100%;
      }
    }

    .intro-block h2 {
      color: #281529;
      margin-bottom: 1.5rem;
      font-family: Lato;
      font-size: 2.8rem;
      font-style: normal;
      font-weight: 700;
      line-height: 1.2;
      max-width: 102rem;
      letter-spacing: 1px;


    }

    @media (min-width: 767px) {
      .intro-block h2 {
        font-size: 4.5rem;
      }
    }

    .intro-block p {
      max-width: 800px;
      margin: 0 auto;
    }

    .calculator-form {
      padding: 2rem 0;
    }

    .form-group-input input {
      border-radius: 0.5rem;
      font-size: 2rem;
      font-style: normal;
      font-weight: 700;
      line-height: 1.2;
      width: 100%;
      letter-spacing: 1px;
      padding: 1rem;
      height: 5.3rem;
      outline: none;
      border-width: 0.1rem;
      border-style: solid;
      border-color: #BA9673;
    }

    .form-group-input input:focus {
      border-color: #BA9673;
    }

    input[type="number"]::-webkit-outer-spin-button,
    input[type="number"]::-webkit-inner-spin-button {
      display: none;
    }

    .content-modal {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      width: 100%;
      height: 100%;
      z-index: -100;
      display: flex;
      -webkit-box-align: center;
      -ms-flex-align: center;
      align-items: center;
      -webkit-box-pack: center;
      -ms-flex-pack: center;
      justify-content: center;
      background: transparent;
      opacity: 0;
      visibility: hidden;
      -webkit-transition: all 0.5s ease-in-out;
      -o-transition: all 0.5s ease-in-out;
      transition: all 0.5s ease-in-out;
    }

    @media (max-width: 1279px) {
      .content-modal {
        padding: 50px 0;
      }
    }

    .content-modal .backdrop {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
    }

    .content-modal-item {
      max-width: 88rem;
      width: 100%;
      height: 50rem;
      border-radius: 1rem;
      margin: auto;
      position: relative;
      background-color: #EDE7ED;
    }

    .content-modal-item .content-wrap {
      width: 100%;
      height: 100%;
      border-radius: 10px;
      overflow: hidden;
      background-color: #fff;
      border: 2px solid #281529;
      padding: 7.5rem 11rem;
      overflow-y: auto;
    }

    .content-modal-item .content-wrap h3 {
      padding-bottom: 2rem;
      margin-bottom: 2rem;
      font-size: 3rem;
      font-style: normal;
      font-weight: 400;
      line-height: 1.2;
      color: #442744;
      letter-spacing: 1px;
      border-bottom: 1px solid #790977;
    }

    .content-modal-item .content-wrap li {
      margin-top: 1.5rem;
      color: #000;
      font-size: 1.6rem;
      font-style: normal;
      font-weight: 400;
      line-height: 1.5;
      letter-spacing: 0.5px;
    }

    .content-modal-item .content-wrap li strong {
      font-size: inherit;
      font-weight: 700;
    }

    .content-modal .close-button {
      position: absolute;
      cursor: pointer;
      right: 4rem;
      top: 3.2rem;
      width: 2.4rem;
      height: 2.4rem;
      border-radius: 50%;
    }

    .content-modal--open {
      opacity: 1;
      z-index: 100;
      visibility: visible;
    }

    table {
      text-align: left;
      margin-top: 2rem;
    }

    table td,
    table th {
      padding: 0.5rem;
      font-size: 2rem;
    }

    .results h3 {
      font-size: 3rem;
    }

    .calculator-input-wrapper {
      padding: 10rem 0;
      background: rgba(237, 231, 237, 1);
    }

    .calculator-input-wrapper .content-wrap p {
      font-size: 1.9rem;
      font-style: normal;
      font-weight: 400;
      line-height: 1.4;
      letter-spacing: 1px;
      padding-right: 2rem;
    }

    .calculator-input-wrapper .input-outer-wrap {
      border-radius: 10px;
      border: 2px solid #790977;
      padding: 4rem;
      background: #fff;
      margin-left: 20px;
    }

    .calculator-input-wrapper .input-outer-wrap h4 {
      font-size: 20px;
      font-style: normal;
      font-weight: 400;
      line-height: 1.2;
      letter-spacing: 1px;
      margin-bottom: 2rem;
    }

    .calculator-input-wrapper .input-outer-wrap h4 strong {
      font-size: inherit;
      font-weight: 700;
      line-height: inherit;
      letter-spacing: inherit;
    }

    .input-outer-wrap .form-group-input {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      column-gap: 2rem;
    }

    .input-outer-wrap .form-group-input .input-group {
      flex-basis: 100%;
      flex-grow: 1;
    }

    .calculation-result-wrapper {
      padding: 5rem 0;
      background: rgba(95, 48, 94, 1);
      color: #fff;
      text-align: center;
    }

    .calculation-number h2 {
      font-size: 3rem;
      font-style: normal;
      font-weight: 400;
      line-height: 1.2;
      letter-spacing: 1px;
      display: flex;
      align-items: center;
      column-gap: 2rem;
      flex-wrap: wrap;
    }

    .calculation-number h2 span {
      font-size: inherit;
      font-weight: inherit;
      line-height: inherit;
    }

    .calculation-number h2 .calculation-values {
      font-size: 3.8rem;
      font-style: normal;
      font-weight: 400;
      line-height: 1.2;
      letter-spacing: 1px;
      color: #FFCF19;
    }

    .calculation-result-wrapper h5 {
      font-size: 1.9rem;
      font-style: normal;
      font-weight: 400;
      line-height: 1.2;
      letter-spacing: 1px;
      margin-top: 2.5rem;
    }

    .calculation-result-wrapper h5 span {
      font-size: 3rem;
      font-style: normal;
      font-weight: 400;
      line-height: 1.2;
      letter-spacing: 1px;
      color: #FFCF19;
    }

    .calculator-action-wrapper {
      padding: 3.5rem 0;
      background: rgba(68, 39, 68, 1);
      text-align: center;
    }

    .calculation-number {
      padding-right: 2rem;
      padding-left: 2rem;
    }

    .calculator-action-wrapper .button-wrapper a {
      margin-left: 2.5rem;
      margin-right: 2.5rem;
    }

    .input-item.divider-bottom {
      padding-bottom: 5rem;
      border-bottom: 1px solid #790977;
      margin-bottom: 5rem;
    }

   

    #line-graph {
      max-height: 800px;
      width: 100%;
      padding: 5rem;
      border-radius: 2rem;
      background-color: #fff;
    }

    #line-graph > div{
      height: 100%;
    }

    .calculator-graph-wrap {
      padding: 15rem;
      background-color: #281529;
    }

    @media (max-width: 991px) {
      .calculator-input-wrapper .input-outer-wrap {
        margin-left: 0;
        margin-top: 3rem;
      }

      .calculator-input-wrapper {
        padding: 8rem 0;
      }

      .calculation-result-wrapper .col-two:not(:first-child) {
        margin-top: 2rem;
      }
    }

    @media (max-width: 768px) {
      .calculator-input-wrapper .input-outer-wrap {
        padding: 2.5rem;
      }

      .input-item.divider-bottom {
        padding-bottom: 3rem;
        margin-bottom: 3rem;
      }

      .calculator-input-wrapper {
        padding: 5rem 0;
      }
      
      .btn-link-yellow  {
        margin-top: 2rem;
      }

      .calculation-number h2 {
        font-size: 2rem;
      }

      .calculation-number h2 span {
        flex: 0 0 100%;
        max-width: 100%;
      }

      .calculation-number h2 .calculation-values {
        font-size: 2.5rem;
        margin-top: 1rem;
      }
    }

    @media (max-width: 480px) {
      .input-item .form-group-input .btn-new {
        flex: 0 0 100%;
        max-width: 100%;
      }
      
      .input-item .form-group-input .btn-new:not(:first-child) {
        margin-top: 2rem;
      }
    }

    @media (min-width: 1280px) {
      .calculator-input-wrapper .input-outer-wrap {
        margin-left: 10rem;
      }
    }

    .d-none {
      display: none;
    }
  </style>

  <script type="text/javascript">
    (function () {
      document.addEventListener("DOMContentLoaded", function () {
        var tcoCalculator = document.querySelector(".tco-calculator");
        var keyPointsBtn = document.querySelector('#key-points');
        var modal = document.querySelector('.content-modal');
        var modalCloseBtn = document.querySelector('.close-button');
        var backdrop = document.querySelector('.content-modal .backdrop');
        var userInputValue = "";

        const AMD_TB_PER_MONTH = 142.336;
        const ULTRA_DISK_TB_PER_MONTH = 122.59328;
        const PREMIUM_SSD_TB_PER_MONTH = 82.944;
        const VSAN_AV36P = 232.448;
        const VSAN_AV64P = 416.768;

        const AMD_MAX_READ_IOPS = 66000;
        const ULTRA_DISK_MAX_READ_IOPS = 20000;
        const PREMIUM_SSD_READ_IOPS = 15000;

        const AMD_IOPS_MONTH = 0;
        const ULTRA_DISK_IOPS_MONTH = 0.04964;
        const PREMIUM_SSD_IOPS_MONTH = 0.00520;

        const AMD_MBPS_MONTH = 0;
        const ULTRA_DISK_MBPS_MONTH = 0.34967;
        const PREMIUM_SSD_MBPS_MONTH = 0.04100;

        const VSAN_AV36P_AVS_COST_MONTH = 1300;
        const VSAN_AV64P_AVS_COST_MONTH = 1300;

        const YEARLY_INFLAMATION_VALUE = (1 + 0.15);

        const MONTHS = 12;

        if (!tcoCalculator) return;

        var amdProvsionedCapacity = 0;
        var ultraDiskProvsionedCapacity = 0;
        var premiumSsdProvsionedCapacity = 0;

        var amdCostOneYear = 0;
        var amdCostTwoYear = 0;
        var amdCostThreeYear = 0;
        var amdCostFourYear = 0;
        var amdCostFiveYear = 0;

        var ultraDiskOneYearCost = 0;
        var ultraDiskTwoYearCost = 0;
        var ultraDiskThreeYearCost = 0;
        var ultraDiskFourYearCost = 0;
        var ultraDiskFiveYearCost = 0;

        var premiumSsdOneYearCost = 0;
        var premiumSsdTwoYearCost = 0;
        var premiumSsdThreeYearCost = 0;
        var premiumSsdFourYearCost = 0;
        var premiumSsdFiveYearCost = 0;

        var av36OneYearCost = 0;
        var av36TwoYearCost = 0;
        var av36ThreeYearCost = 0;
        var av36FourYearCost = 0;
        var av36FiveYearCost = 0;

        var av64OneYearCost = 0;
        var av64TwoYearCost = 0;
        var av64ThreeYearCost = 0;
        var av64FourYearCost = 0;
        var av64FiveYearCost = 0;

        var totalCostHtmlField = document.getElementById('total-cost');

        // Convert numeric to dollars currency format
        function numberToDollars(num) {
          var roundedNum = num > 0 ? parseFloat(num).toFixed(3) : num;
          return (
            "$" + roundedNum.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",")
          );
        }

        // Convert negative numbers to positive numbers and limit max digits to 12 digits for number inputs
        function getPositiveNumAndLimitMaxDigits(input) {
          if (!!input.value) {
            input.value = parseInt(
              input.value.toLocaleString("fullwide", { useGrouping: false }),
              10
            );
            input.value =
              Math.abs(input.value) >= 0 ? Math.abs(input.value) : null;
            input.value =
              input.value.length > input.maxLength
                ? input.value.slice(0, input.maxLength)
                : input.value;
          }

          return input.value;
        }

        // Add, initialize and listen to input events in form
        function initListeners() {
          var tibInput = document.getElementById("tib-input");

          if (tibInput) {
            tibInput.value = userInputValue;

            tibInput.addEventListener("input", function () {
              this.value = getPositiveNumAndLimitMaxDigits(this);

              userInputValue = this.value;
              var amdResult = calculateAmdCost();
              var ultraDiskResult = calculateUltraDiskCost();
              var premiumSsdResults = calculatePremiumSsdCost();
              var av36Result = calculateAv36Cost();
              var av64Result = calculateAv64Cost();

              var ultraDiskTotalCost = calculateTotalCostSavings(amdResult.cumulativeCost.fiveYear, ultraDiskResult.cumulativeCost.fiveYear);
              var premiumSsdTotalCost = calculateTotalCostSavings(amdResult.cumulativeCost.fiveYear, premiumSsdResults.cumulativeCost.fiveYear);
              var av36TotalCost = calculateTotalCostSavings(amdResult.cumulativeCost.fiveYear, av36Result.cumulativeCost.fiveYear);
              var av64TotalCost = calculateTotalCostSavings(amdResult.cumulativeCost.fiveYear, av64Result.cumulativeCost.fiveYear);

              var ultraDiskTotalCostInPercentage = calculateTotalCostInPercentage(amdResult.cumulativeCost.fiveYear, ultraDiskResult.cumulativeCost.fiveYear);
              var premiumSsdTotalCostPercentage = calculateTotalCostInPercentage(amdResult.cumulativeCost.fiveYear, premiumSsdResults.cumulativeCost.fiveYear);
              var av36TotalCostPercentage = calculateTotalCostInPercentage(amdResult.cumulativeCost.fiveYear, av36Result.cumulativeCost.fiveYear);
              var av64TotalCostPercentage = calculateTotalCostInPercentage(amdResult.cumulativeCost.fiveYear, av64Result.cumulativeCost.fiveYear);

              const ultraDiskTotalCostHtml = document.getElementById('ultra-disk-total-cost');
              const ultraDiskTotalSavingHtml = document.getElementById('ultra-disk-total-cost-savings');
              const premiumSsdTotalCostHtml = document.getElementById('premium-ssd-total-cost');
              const premiumSsdTotalSavingHtml = document.getElementById('premium-ssd-total-saving');
              const av36TotalCostHtml = document.getElementById('av36-total-cost');
              const av36TotalSavingHtml = document.getElementById('av36-total-savings');

              const av64TotalCostHtml = document.getElementById('av64-total-cost');
              const av64TotalSavingHtml = document.getElementById('av64-total-savings');

              const totalCostHtml = document.getElementById('total-cost');
              const totalSavingHtml = document.getElementById('calculation-percentage');

              if (av64TotalCost || av64TotalCostPercentage) {
                totalCostHtml.textContent = numberToDollars(av64TotalCost);
                totalSavingHtml.textContent = av64TotalCostPercentage;
              }

              if (ultraDiskTotalCostHtml) {
                ultraDiskTotalCostHtml.textContent = numberToDollars(ultraDiskTotalCost);
                ultraDiskTotalSavingHtml.textContent = ultraDiskTotalCostInPercentage;
              }

              if (premiumSsdTotalCostHtml) {
                premiumSsdTotalCostHtml.textContent = numberToDollars(premiumSsdTotalCost);
                premiumSsdTotalSavingHtml.textContent = premiumSsdTotalCostPercentage;
              }

              if (av36TotalCostHtml) {
                av36TotalCostHtml.textContent = numberToDollars(av36TotalCost);
                av36TotalSavingHtml.textContent = av36TotalCostPercentage;
              }

              if (av64TotalCostHtml) {
                av64TotalCostHtml.textContent = numberToDollars(av64TotalCost);
                av64TotalSavingHtml.textContent = av64TotalCostPercentage;
              }

              calculateValuesAndPrint();
            });
          }
        }

        // Calculate the Cost of AMD Year One
        function calculateAmdCost() {
          var amdCost = userInputValue * AMD_TB_PER_MONTH * MONTHS;

          const amdYearOneCostHtml = document.getElementById('amd-cost-year-one');
          const amdYearTwoCostHtml = document.getElementById('amd-cost-year-two');
          const amdYearThreeCostHtml = document.getElementById('amd-cost-year-three');
          const amdYearFourCostHtml = document.getElementById('amd-cost-year-four');
          const amdYearFiveCostHtml = document.getElementById('amd-cost-year-five');


          amdCostOneYear = amdCost;
          amdCostTwoYear = amdCostOneYear * (1 + 0.15);
          amdCostThreeYear = amdCostTwoYear * (1 + 0.15);
          amdCostFourYear = amdCostThreeYear * (1 + 0.15);
          amdCostFiveYear = amdCostFourYear * (1 + 0.15);


          const amdTcoCost = {
            oneYear: amdCostOneYear,
            twoYear: amdCostTwoYear,
            threeYear: amdCostThreeYear,
            fourYear: amdCostFourYear,
            fiveYear: amdCostFiveYear
          }

          const cumulativeAmdCost = {
            oneYear: amdTcoCost.oneYear,
            twoYear: (amdTcoCost.twoYear + amdTcoCost.oneYear),
            threeYear: (amdTcoCost.threeYear + amdTcoCost.oneYear + amdTcoCost.twoYear),
            fourYear: (amdTcoCost.fourYear + amdTcoCost.oneYear + amdTcoCost.threeYear + amdTcoCost.twoYear),
            fiveYear: (amdTcoCost.fiveYear + amdTcoCost.oneYear + amdTcoCost.fourYear + amdTcoCost.threeYear + amdTcoCost.twoYear)
          }


          if (amdYearOneCostHtml) {
            amdYearOneCostHtml.textContent = numberToDollars(cumulativeAmdCost.oneYear);
            amdYearTwoCostHtml.textContent = numberToDollars(cumulativeAmdCost.twoYear);
            amdYearThreeCostHtml.textContent = numberToDollars(cumulativeAmdCost.threeYear);
            amdYearFourCostHtml.textContent = numberToDollars(cumulativeAmdCost.fourYear);
            amdYearFiveCostHtml.textContent = numberToDollars(cumulativeAmdCost.fiveYear);
          }

          const amdCalculations = {
            tcoCost: amdTcoCost,
            cumulativeCost: cumulativeAmdCost,
          }

          return amdCalculations;
        }

        // Calculate the Provsioned Capacity AMD
        function calculateAmdProvsionedCapacity() {
          amdProvsionedCapacity = userInputValue * AMD_MAX_READ_IOPS;

          const amdCapHtml = document.getElementById('amd-cap');

          if (amdCapHtml) {
            amdCapHtml.textContent = amdProvsionedCapacity;
          }

          return amdProvsionedCapacity;
        }

        // Calculate the Cost of Ultra Disk Year one
        function calculateUltraDiskCost() {
          var ultraDiskCost = (userInputValue * ULTRA_DISK_TB_PER_MONTH * MONTHS) + (userInputValue * ULTRA_DISK_MAX_READ_IOPS * ULTRA_DISK_IOPS_MONTH * MONTHS) + ((userInputValue * 2 * ULTRA_DISK_MAX_READ_IOPS * ULTRA_DISK_MBPS_MONTH * MONTHS) / 1024);

          const ultraDiskYearOneCostHtml = document.getElementById('ultra-disk-year-one');
          const ultraDiskYearTwoCostHtml = document.getElementById('ultra-disk-year-two');
          const ultraDiskYearThreeCostHtml = document.getElementById('ultra-disk-year-three');
          const ultraDiskYearFourCostHtml = document.getElementById('ultra-disk-year-four');
          const ultraDiskYearFiveCostHtml = document.getElementById('ultra-disk-year-five');

          ultraDiskTcoOneYearCost = ultraDiskCost;
          ultraDiskTcoTwoYearCost = ultraDiskTcoOneYearCost * (1 + 0.15);
          ultraDiskTcoThreeYearCost = ultraDiskTcoTwoYearCost * (1 + 0.15);
          ultraDiskTcoFourYearCost = ultraDiskTcoThreeYearCost * (1 + 0.15);
          ultraDiskTcoFiveYearCost = ultraDiskTcoFourYearCost * (1 + 0.15);

          const ultraDiskTcoCost = {
            oneYear: ultraDiskTcoOneYearCost,
            twoYear: ultraDiskTcoTwoYearCost,
            threeYear: ultraDiskTcoThreeYearCost,
            fourYear: ultraDiskTcoFourYearCost,
            fiveYear: ultraDiskTcoFiveYearCost
          }

          const cumulativeUltraDiskCost = {
            oneYear: ultraDiskTcoCost.oneYear,
            twoYear: (ultraDiskTcoCost.twoYear + ultraDiskTcoCost.oneYear),
            threeYear: (ultraDiskTcoCost.threeYear + ultraDiskTcoCost.oneYear + ultraDiskTcoCost.twoYear),
            fourYear: (ultraDiskTcoCost.fourYear + ultraDiskTcoCost.oneYear + ultraDiskTcoCost.threeYear + ultraDiskTcoCost.twoYear),
            fiveYear: (ultraDiskTcoCost.fiveYear + ultraDiskTcoCost.oneYear + ultraDiskTcoCost.fourYear + ultraDiskTcoCost.threeYear + ultraDiskTcoCost.twoYear)
          }

          if (ultraDiskYearOneCostHtml) {
            ultraDiskYearOneCostHtml.textContent = numberToDollars(cumulativeUltraDiskCost.oneYear);
            ultraDiskYearTwoCostHtml.textContent = numberToDollars(cumulativeUltraDiskCost.twoYear);
            ultraDiskYearThreeCostHtml.textContent = numberToDollars(cumulativeUltraDiskCost.threeYear);
            ultraDiskYearFourCostHtml.textContent = numberToDollars(cumulativeUltraDiskCost.fourYear);
            ultraDiskYearFiveCostHtml.textContent = numberToDollars(cumulativeUltraDiskCost.fiveYear);
          }


          const ultraDiskCalculations = {
            tcoCost: ultraDiskTcoCost,
            cumulativeCost: cumulativeUltraDiskCost,
          }

          return ultraDiskCalculations;
        }

        // Calculate the Provsioned Capacity Ultra Disk
        function calculateUltraDiskProvsionedCapacity() {
          ultraDiskProvsionedCapacity = userInputValue * ULTRA_DISK_MAX_READ_IOPS;

          const ultraDiskCapHtml = document.getElementById('ultra-disk-cap');

          if (ultraDiskCapHtml) {
            ultraDiskCapHtml.textContent = ultraDiskProvsionedCapacity;
          }

          return ultraDiskProvsionedCapacity;
        }

        // Calculate the Cost of PremiumSsd Year one
        function calculatePremiumSsdCost() {
          premiumSsdCost = (userInputValue * PREMIUM_SSD_TB_PER_MONTH * MONTHS) + (userInputValue * PREMIUM_SSD_READ_IOPS * PREMIUM_SSD_IOPS_MONTH * MONTHS) + ((userInputValue * 2 * PREMIUM_SSD_READ_IOPS * PREMIUM_SSD_MBPS_MONTH * MONTHS) / 1024);

          const premiumSsdYearOneCostHtml = document.getElementById('premium-ssd-year-one');
          const premiumSsdYearTwoCostHtml = document.getElementById('premium-ssd-year-two');
          const premiumSsdYearThreeCostHtml = document.getElementById('premium-ssd-year-three');
          const premiumSsdYearFourCostHtml = document.getElementById('premium-ssd-year-four');
          const premiumSsdYearFiveCostHtml = document.getElementById('premium-ssd-year-five');


          premiumSsdOneYearCost = premiumSsdCost;
          premiumSsdTwoYearCost = premiumSsdOneYearCost * (1 + 0.15);
          premiumSsdThreeYearCost = premiumSsdTwoYearCost * (1 + 0.15);
          premiumSsdFourYearCost = premiumSsdThreeYearCost * (1 + 0.15);
          premiumSsdFiveYearCost = premiumSsdFourYearCost * (1 + 0.15);

          const premiumSsdTcoCost = {
            oneYear: premiumSsdOneYearCost,
            twoYear: premiumSsdTwoYearCost,
            threeYear: premiumSsdThreeYearCost,
            fourYear: premiumSsdFourYearCost,
            fiveYear: premiumSsdFiveYearCost
          }

          const cumulativePremiumSsdCost = {
            oneYear: premiumSsdTcoCost.oneYear,
            twoYear: (premiumSsdTcoCost.twoYear + premiumSsdTcoCost.oneYear),
            threeYear: (premiumSsdTcoCost.threeYear + premiumSsdTcoCost.oneYear + premiumSsdTcoCost.twoYear),
            fourYear: (premiumSsdTcoCost.fourYear + premiumSsdTcoCost.oneYear + premiumSsdTcoCost.threeYear + premiumSsdTcoCost.twoYear),
            fiveYear: (premiumSsdTcoCost.fiveYear + premiumSsdTcoCost.oneYear + premiumSsdTcoCost.fourYear + premiumSsdTcoCost.threeYear + premiumSsdTcoCost.twoYear)
          }

          if (premiumSsdYearOneCostHtml) {
            premiumSsdYearOneCostHtml.textContent = numberToDollars(cumulativePremiumSsdCost.oneYear);
            premiumSsdYearTwoCostHtml.textContent = numberToDollars(cumulativePremiumSsdCost.twoYear);
            premiumSsdYearThreeCostHtml.textContent = numberToDollars(cumulativePremiumSsdCost.threeYear);
            premiumSsdYearFourCostHtml.textContent = numberToDollars(cumulativePremiumSsdCost.fourYear);
            premiumSsdYearFiveCostHtml.textContent = numberToDollars(cumulativePremiumSsdCost.fiveYear);
          }

          const premiumSsdCalculations = {
            tcoCost: premiumSsdTcoCost,
            cumulativeCost: cumulativePremiumSsdCost,
          }

          return premiumSsdCalculations;
        }

        // Calculate the Provsioned Capacity Ultra Disk
        function calculatepremiumSsdProvsionedCapacity() {
          premiumSsdProvsionedCapacity = userInputValue * PREMIUM_SSD_READ_IOPS;
          const premiumSsdCapHtml = document.getElementById('premium-ssd-cap');

          if (premiumSsdCapHtml) {
            premiumSsdCapHtml.textContent = premiumSsdProvsionedCapacity;
          }

          return premiumSsdProvsionedCapacity;
        }

        function calculateAv36Cost() {
          var avs36Cost = (userInputValue * VSAN_AV36P * 12) + (12 * VSAN_AV36P_AVS_COST_MONTH);

          const av36YearOneCostHtml = document.getElementById('av36-cost-year-one');
          const av36YearTwoCostHtml = document.getElementById('av36-cost-year-two');
          const av36YearThreeCostHtml = document.getElementById('av36-cost-year-three');
          const av36YearFourCostHtml = document.getElementById('av36-cost-year-four');
          const av36YearFiveCostHtml = document.getElementById('av36-cost-year-five');

          av36OneYear = avs36Cost;
          av36TwoYear = av36OneYear * (1 + 0.15);
          av36ThreeYear = av36TwoYear * (1 + 0.15);
          av36FourYear = av36ThreeYear * (1 + 0.15);
          av36FiveYear = av36FourYear * (1 + 0.15);

          const av36TcoCost = {
            oneYear: av36OneYear,
            twoYear: av36TwoYear,
            threeYear: av36ThreeYear,
            fourYear: av36FourYear,
            fiveYear: av36FiveYear
          }

          const cumulativeAv36Cost = {
            oneYear: av36TcoCost.oneYear,
            twoYear: (av36TcoCost.twoYear + av36TcoCost.oneYear),
            threeYear: (av36TcoCost.threeYear + av36TcoCost.oneYear + av36TcoCost.twoYear),
            fourYear: (av36TcoCost.fourYear + av36TcoCost.oneYear + av36TcoCost.threeYear + av36TcoCost.twoYear),
            fiveYear: (av36TcoCost.fiveYear + av36TcoCost.oneYear + av36TcoCost.fourYear + av36TcoCost.threeYear + av36TcoCost.twoYear)
          }

          if (av36YearOneCostHtml) {
            av36YearOneCostHtml.textContent = numberToDollars(cumulativeAv36Cost.oneYear);
            av36YearTwoCostHtml.textContent = numberToDollars(cumulativeAv36Cost.twoYear);
            av36YearThreeCostHtml.textContent = numberToDollars(cumulativeAv36Cost.threeYear);
            av36YearFourCostHtml.textContent = numberToDollars(cumulativeAv36Cost.fourYear);
            av36YearFiveCostHtml.textContent = numberToDollars(cumulativeAv36Cost.fiveYear);
          }

          const av36Calculations = {
            tcoCost: av36TcoCost,
            cumulativeCost: cumulativeAv36Cost,
          }

          return av36Calculations;
        }

        function calculateAv64Cost() {
          var avs64Cost = (userInputValue * VSAN_AV64P * 12) + (12 * VSAN_AV64P_AVS_COST_MONTH);

          const av64YearOneCostHtml = document.getElementById('av64-cost-year-one');
          const av64YearTwoCostHtml = document.getElementById('av64-cost-year-two');
          const av64YearThreeCostHtml = document.getElementById('av64-cost-year-three');
          const av64YearFourCostHtml = document.getElementById('av64-cost-year-four');
          const av64YearFiveCostHtml = document.getElementById('av64-cost-year-five');


          av64OneYear = avs64Cost;
          av64TwoYear = av64OneYear * (1 + 0.15);
          av64ThreeYear = av64TwoYear * (1 + 0.15);
          av64FourYear = av64ThreeYear * (1 + 0.15);
          av64FiveYear = av64FourYear * (1 + 0.15);

          const av64TcoCost = {
            oneYear: av64OneYear,
            twoYear: av64TwoYear,
            threeYear: av64ThreeYear,
            fourYear: av64FourYear,
            fiveYear: av64FiveYear
          }

          const cumulativeAv64Cost = {
            oneYear: av64TcoCost.oneYear,
            twoYear: (av64TcoCost.twoYear + av64TcoCost.oneYear),
            threeYear: (av64TcoCost.threeYear + av64TcoCost.oneYear + av64TcoCost.twoYear),
            fourYear: (av64TcoCost.fourYear + av64TcoCost.oneYear + av64TcoCost.threeYear + av64TcoCost.twoYear),
            fiveYear: (av64TcoCost.fiveYear + av64TcoCost.oneYear + av64TcoCost.fourYear + av64TcoCost.threeYear + av64TcoCost.twoYear)
          }

          if (av64YearOneCostHtml) {
            av64YearOneCostHtml.textContent = numberToDollars(cumulativeAv64Cost.oneYear);
            av64YearTwoCostHtml.textContent = numberToDollars(cumulativeAv64Cost.twoYear);
            av64YearThreeCostHtml.textContent = numberToDollars(cumulativeAv64Cost.threeYear);
            av64YearFourCostHtml.textContent = numberToDollars(cumulativeAv64Cost.fourYear);
            av64YearFiveCostHtml.textContent = numberToDollars(cumulativeAv64Cost.fiveYear);
          }

          const av64Calculations = {
            tcoCost: av64TcoCost,
            cumulativeCost: cumulativeAv64Cost,
          }

          return av64Calculations;
        }

        function calculateValuesAndPrint() {
          calculatepremiumSsdProvsionedCapacity()
          calculateUltraDiskProvsionedCapacity();
          calculateAmdProvsionedCapacity();
          calculateAmdCost();
          calculateUltraDiskCost();
          calculatePremiumSsdCost();
          calculateAv36Cost();
          calculateAv64Cost();
        }

        function calculateTotalCostSavings(baseCost, fiveCost) {
          return Math.abs(fiveCost - baseCost).toFixed(2);;
        }

        function calculateTotalCostInPercentage(baseCost, fiveYearCost) {
          return `${~~((1 - (baseCost / fiveYearCost)) * 100)}%`;
        }

        function handleKeyPointBtnClick(e) {
          e.preventDefault();
          e.stopPropagation();

          modal.classList.add('content-modal--open');
        }

        function handleModalClose(e) {
          e.stopPropagation();

          modal.classList.remove('content-modal--open');
        }

        keyPointsBtn.addEventListener('click', handleKeyPointBtnClick);
        modalCloseBtn.addEventListener('click', handleModalClose);
        backdrop.addEventListener('click', handleModalClose);

        initListeners();

        // get value on keydown Done
        // convert into number Done
        // calculate
        // - Amd for 1 year Done
        // - Ultra Disk 1 year Done
        // - Premium SSD 1 year Done

        // Calculate 5 years cost Done

        // Responsive 
        // Google Chart 
        // Style Chart

        google.charts.load('current', { 'packages': ['line'] });
        google.charts.setOnLoadCallback(drawChart);

        function drawChart() {
          var data = google.visualization.arrayToDataTable([
              ['Values', 'Av36p', 'Av64p', 'Lightbits'],
              ['YearOne', 294537.600, 515721.600, 170803.200],
              ['YearTwo', 633255.840, 1108801.440, 367226.880],
              ['YearThree', 1022781.816, 1790843.256, 593114.112],
              ['YearFour', 1470736.688, 2575191.344, 852884.429],
              ['YearFive', 1985884.792, 3477191.646, 1151620.293]
          ]);

          var options = {
            width: '100%',
            height: '100%',
            title: 'Total Cost Savings in 5 years - Lower is Better',
            tooltip: {isHtml: true},
            legend: 'none',
            pointSize: 20,
            lineWidth: 5,
            colors: ['#BA9673', '#FFCF19', '#790977',],
            fontName: 'Lato',
            fontSize: 20,
            hAxis: {
              format: 'string',
              maxValue: 5,
            },
            vAxis: {
              logScale: 'true',
              format: 'decimal',
              Discrete: 'true',
            },

            curveType: 'function',
            series: {
              'Av36p': { color: '#1a73e8' }, // Color of first series (Sales)
              'Av64p': { color: '#ea4335' } // Color of second series (Expenses)
            }
          };

          var chart = new google.charts.Line(document.getElementById('line-graph'));

          chart.draw(data, google.charts.Line.convertOptions(options));
        }

      });
    })();

  </script>
</head>

<body>
  <main>
    <section class="tco-calculator">
      <div class="calculator-input-wrapper">
        <div class="container">
          <div class="intro-block">
            <h2>See How Much You Can Save to Run Virtualized Workloads on Azure</h2>
          </div>
          <div class="row">
            <div class="col-two">
              <div class="content-wrap">
                <p>Unlike vSAN, with Lightbits on Azure VMware Solution (AVS) you can scale storage dynamically instead
                  of over provisioning storage or compute for capacity and application performance. 
                  Lightbits offers lower, more predictable AVS costs with better performance and unlimited scaling</p>
              </div>
            </div>
            <div class="col-two">
              <div class="input-outer-wrap">
                <div class="input-item divider-bottom">
                  <h4><strong>Storage Type*–</strong> Please select one</h4>
                  <div class="form-group-input">
                    <span class="btn-new btn-new-default">
                      Ultra Disk
                    </span>
                    <span class="btn-new btn-new-transparent">
                      Premium SSD v2
                    </span>
                  </div>
                </div>
                <div class="input-item">
                  <h4><strong>Provisioned Capacity (TiB)*</strong></h4>
                  <div class="form-group-input">
                    <div class="input-group">
                      <input type="number" id="tib-input" aria-label="Provisioned Capacity" value="100" placeholder="Enter a number"
                        maxlength="12" />
                    </div>
                    <div class="btn-wrap d-none">
                      <span class="btn-new btn-new-default">
                        Calculate
                      </span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="calculation-result-wrapper">
        <div class="container">
          <div class="row">
            <div class="col-two">
              <div class="calculation-number">
                <h2>
                  <span>Your Total Cost Savings:</span>
                  <span class="calculation-values" id="total-cost">298,735.864</span>
                </h2>
              </div>
            </div>
            <div class="col-two">
              <div class="calculation-number">
                <h2>
                  <span>Your Total Savings:</span>
                  <span class="calculation-values" class="calculation-percentage">84</span>
                </h2>
              </div>
            </div>
          </div>
          <div class="calculation-number">
            <h5>
              Lightbits outperforms Premium SSD v2 by approximately <span>4.4X</span>.
            </h5>
          </div>
        </div>
      </div>
      <div class="calculator-action-wrapper">
        <div class="container">
          <div class="button-wrapper">
            <a href="/contact-us" class="btn-new btn-new-default">Contact Sales</a>
            <a href="/" class="btn-link-yellow" id="key-points">View Key Assumptions <span>
              <svg xmlns="http://www.w3.org/2000/svg" width="27" height="28" viewBox="0 0 27 28" fill="none">
                <g clip-path="url(#clip0_103_13)">
                  <path d="M19.6506 14H6.55005" stroke="#FFCF19" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M14.1921 8.5415L19.6507 14.0001L14.1921 19.4587" stroke="#FFCF19" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                </g>
                <defs>
                  <clipPath id="clip0_103_13">
                    <rect width="18.527" height="18.527" fill="white" transform="translate(13.1006 0.899414) rotate(45)"/>
                  </clipPath>
                </defs>
              </svg>
            </span></a>
          </div>
        </div>
      </div>

      <div class="calculator">
        <div class="container">
          <div class="calculator-content ">
            <div class="results">
              <h3>TCO - Cumulative (15% yoy)</h3>
              <table>
                <tbody>
                  <tr>
                    <th>Year's</th>
                    <th>1 year</th>
                    <th>2 year</th>
                    <th>3 year</th>
                    <th>4 year</th>
                    <th>5 year</th>
                    <th>Total Cost Savings</th>
                    <th>Total Savings</th>
                  </tr>
                  <tr>
                    <th>Ultra Disk</th>
                    <td id="ultra-disk-year-one">0</td>
                    <td id="ultra-disk-year-two">0</td>
                    <td id="ultra-disk-year-three">0</td>
                    <td id="ultra-disk-year-four">0</td>
                    <td id="ultra-disk-year-five">0</td>
                    <td id="ultra-disk-total-cost">0</td>
                    <td id="ultra-disk-total-cost-savings">0</td>
                  </tr>
                  <tr>
                    <th>Premiun SSD v2</th>
                    <td id="premium-ssd-year-one">0</td>
                    <td id="premium-ssd-year-two">0</td>
                    <td id="premium-ssd-year-three">0</td>
                    <td id="premium-ssd-year-four">0</td>
                    <td id="premium-ssd-year-five">0</td>
                    <td id="premium-ssd-total-cost">0</td>
                    <td id="premium-ssd-total-saving">0</td>
                  </tr>
                  <tr>
                    <th>Lightbits</th>
                    <td id="amd-cost-year-one">0</td>
                    <td id="amd-cost-year-two">0</td>
                    <td id="amd-cost-year-three">0</td>
                    <td id="amd-cost-year-four">0</td>
                    <td id="amd-cost-year-five">0</td>
                    <td id="amd-total-cost">0</td>
                    <td id="amd-total-savings">0</td>
                  </tr>
                  <tr>
                    <th>Avs 36</th>
                    <td id="av36-cost-year-one">0</td>
                    <td id="av36-cost-year-two">0</td>
                    <td id="av36-cost-year-three">0</td>
                    <td id="av36-cost-year-four">0</td>
                    <td id="av36-cost-year-five">0</td>
                    <td id="av36-total-cost">0</td>
                    <td id="av36-total-savings">0</td>
                  </tr>
                  <tr>
                    <th>Avs 64</th>
                    <td id="av64-cost-year-one">0</td>
                    <td id="av64-cost-year-two">0</td>
                    <td id="av64-cost-year-three">0</td>
                    <td id="av64-cost-year-four">0</td>
                    <td id="av64-cost-year-five">0</td>
                    <td id="av64-total-cost">0</td>
                    <td id="av64-total-savings">0</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="results">
              <table>
                <tbody>
                  <tr>
                    <th>Max IOPS Per Provsioned Capacity</th>
                  </tr>
                  <tr>
                    <th>Ultra Disk</th>
                    <td id="ultra-disk-cap">0</td>
                  </tr>
                  <tr>
                    <th>Premiun SSD v2</th>
                    <td id="premium-ssd-cap">0</td>
                  </tr>
                  <tr>
                    <th>Lightbits</th>
                    <td id="amd-cap">0</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <div class="calculator-graph-wrap">
            <div class="row">
              <div class="col-two">
                <div id="line-graph">

                </div>
              </div>
              <div class="col-two">
                <div id="bar-graph">

                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <section class="content-modal">
      <div class="backdrop" aria-label="backdrop"></div>
      <div class="container">
        <div class="content-modal-item">
          <div class="content-wrap">
            <span class="close-button"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="24" viewBox="0 0 25 24" fill="none">
              <path d="M12.4429 24C19.0703 24 24.4429 18.6274 24.4429 12C24.4429 5.37258 19.0703 0 12.4429 0C5.81545 0 0.442871 5.37258 0.442871 12C0.442871 18.6274 5.81545 24 12.4429 24Z" fill="#281529"/>
              <path d="M15.4429 9L9.44287 15" stroke="#FFCF19" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M9.44287 9L15.4429 15" stroke="#FFCF19" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg></span>
            <div class="content-inner">
              <h3>Key Assumptions</h3>
              <ul>
                <li><strong>Data Reduction:</strong> 3:1: AchieveN through compression, thin provisioning with auto-scaling,
                  space-efficient snapshots, anN clonesM</li>
                <li><strong>Highly Available w/ 2 replicas:</strong> Ensures high availability of Nata with two replicasM</li>
                <li><strong>Azure VMs:</strong> ReserveN 3 Year, EastUS: Utilizes reserveN VM instances for 3 years in the EastUS regionM
                </li>
                <li><strong>Annual Expected Growth:</strong> Accounts for a projecteN annual growth rate of 15%M</li>
                <li><strong>LRS Azure:</strong> Utilizes Locally ReNunNant Storage (LRS) in AzureM</li>
                <li><strong>Premium SSD v2 Assumptions:</strong> Assumes 15K IOPS per TB anN 2KBs per each IO for Premium SSD v2.</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>
</body>

</html>